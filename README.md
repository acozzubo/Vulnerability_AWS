# Vulnerability_AWS
# Small Area Vulnerability Map computed in AWS with PySpark

<center>
  <img src="https://github.com/acozzubo/Vulnerability_AWS/blob/main/image/largeimg.png" alt="drawing" height="370" width="900"/>
</center>

## 0. Video Overview (TL:DR)
The 2min  video at this [link](https://drive.google.com/file/d/1qTAWsK-B8eNvuMHzHPBagxuQP6m8CnX1/view?usp=sharing) gives an overview of the idea behind the project, the Machine Learning and cloud computing applications, and the relevance for public policy.

## 1. Formal presentation 
It can be found in this [pdf](https://github.com/acozzubo/Vulnerability_AWS/blob/main/Write_up.pdf)

## 2. Data
Files are big for Github. In these links, you can download the [databases](https://drive.google.com/file/d/1po0CL6haA4Kd_pnDtzAYh_1vsTW3c-y1/view?usp=sharing) and [shapefiles](https://drive.google.com/file/d/139PPkoxP5gL2TkO5Hv_CAYLMiYp0Kj8M/view?usp=sharing) from Google Drive. 

## 3. Code 
You can find the code in this [folder](https://github.com/acozzubo/Vulnerability_AWS/tree/main/code). The structure is the following:

**i) 1_transition_mat**: Computes the transition matrices using Dask 

**ii) 2_Model_EMR_**: Computes the model using PySpark in AWS EMR cluster. Alternatively, the 2_Model.ipynb does it using local nodes.  

**iii) 3_small_area_estimation**: Computes the transition matrices 

## 4. Further research
The original idea for this project comes from my [paper](https://files.pucp.education/departamento/economia/DDD429.pdf) with J.Herrera (2016).
This project was explored further by the Peruvian Census Bureau where I serve as a Technical Advisor. The vulnerability map is now a <ins> national indicator </ins> used for public policy. The official report can be found [here](https://www.inei.gob.pe/media/MenuRecursivo/boletines/estimacion-de-la-vulnerabilidad-economica-a-la-pobreza-monetaria.pdf) 
___
